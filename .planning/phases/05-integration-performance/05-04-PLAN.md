---
phase: 05-integration-performance
plan: 04
type: execute
wave: 2
depends_on: ["05-03"]
files_modified:
  - skills/kui-design/commands/suggest.md
  - skills/kui-design/SKILL.md
autonomous: true

must_haves:
  truths:
    - "User can run /kui-design:suggest to get pattern recommendations"
    - "Suggestions are context-aware based on task description"
    - "Output shows pattern names, relevance, and reasoning"
  artifacts:
    - path: "skills/kui-design/commands/suggest.md"
      provides: "Sub-command definition for pattern suggestions"
    - path: "skills/kui-design/SKILL.md"
      provides: "Updated skill definition with suggest command"
      contains: ":suggest"
  key_links:
    - from: "skills/kui-design/commands/suggest.md"
      to: ".knowledge/integration/suggestion-engine.ts"
      via: "references suggestPatterns function"
      pattern: "suggestPatterns"
---

<objective>
Create the :suggest sub-command for context-aware pattern recommendations.

Purpose: The suggestion engine (Plan 03) provides the logic; this plan exposes it as a user-facing skill command. When users describe what they're building, they get relevant pattern suggestions.

Output: A new :suggest command definition and updated SKILL.md documentation.
</objective>

<execution_context>
@/Users/khairul/.claude/get-shit-done/workflows/execute-plan.md
@/Users/khairul/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-integration-performance/05-RESEARCH.md
@skills/kui-design/SKILL.md
@skills/kui-design/commands/generate.md
@.knowledge/integration/suggestion-engine.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create suggest command definition</name>
  <files>skills/kui-design/commands/suggest.md</files>
  <action>
Create a new command definition file following the existing command format:

```markdown
---
name: suggest
description: Get context-aware pattern suggestions based on what you're building. Analyzes your task description and recommends relevant design patterns with relevance scores and reasoning.
---

# :suggest Command

Get pattern suggestions based on what you're building.

## Usage

```
/kui-design:suggest [task description]
```

## Examples

```bash
# Describe what you're building
/kui-design:suggest I need to build a login form with validation

# Get layout suggestions
/kui-design:suggest hero section with responsive grid

# Feedback patterns
/kui-design:suggest loading states and error handling
```

## Workflow

### 1. Analyze Context

Parse the task description to identify relevant categories:

```typescript
import { suggestPatterns } from '.knowledge/integration';

const suggestions = await suggestPatterns({
  text: userDescription,
  framework: await detectFramework(),  // Optional: auto-detect project framework
  limit: 5,
  minRelevance: 0.3,
});
```

### 2. Present Suggestions

Display suggestions with relevance scores and reasoning:

```
Pattern Suggestions for "login form with validation"

1. [95%] Floating Label Input
   Category: forms | Tags: input, floating-label, animation
   Why: matches forms category; tags match: input, validation
   Frameworks: react, vue, svelte, vanilla

2. [80%] Form Validation States
   Category: forms | Tags: validation, error, success
   Why: matches forms category; tags match: validation
   Frameworks: react, vue, svelte, vanilla

3. [65%] Login Form Pattern
   Category: authentication | Tags: login, form, auth
   Why: matches authentication category; tags match: login, form
   Frameworks: react, vue, svelte, vanilla

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

To generate code from a pattern:
  /kui-design:generate [pattern name or search terms]
```

### 3. Handle No Matches

If no patterns match the context:

```
No patterns found matching "quantum encryption dashboard"

Try:
- Use more specific terms (form, nav, button, card)
- List all patterns: /kui-design:generate --list
- Add patterns: /kui-design:analyze [url]
```

## Options

- `--category <name>` — Filter to specific category
- `--framework <name>` — Filter by framework compatibility
- `--limit <n>` — Number of suggestions (default: 5)

## Categories

Available categories for filtering:

- **forms** — Inputs, validation, form patterns
- **navigation** — Navbars, menus, breadcrumbs
- **layout** — Grids, containers, sections
- **data-display** — Tables, cards, stats
- **feedback** — Loading, toasts, alerts
- **micro-interactions** — Hover, transitions, animations
- **authentication** — Login forms, auth flows

## Integration with :generate

After finding a relevant pattern, use :generate to get the code:

```bash
# Get suggestions
/kui-design:suggest hero section

# Generate code for a specific pattern
/kui-design:generate hero section layout
```
```
  </action>
  <verify>
```bash
# File exists
ls -la skills/kui-design/commands/suggest.md

# Contains expected sections
grep -E "^## (Usage|Workflow|Options)" skills/kui-design/commands/suggest.md
```
  </verify>
  <done>suggest.md command definition exists with usage, workflow, and options documented</done>
</task>

<task type="auto">
  <name>Task 2: Update SKILL.md with suggest command</name>
  <files>skills/kui-design/SKILL.md</files>
  <action>
Update the main skill definition to include the new :suggest command. Add it to the Available Sub-Commands section:

Find the line:
```markdown
## Available Sub-Commands

- **:generate** — Search patterns and generate framework-specific code
- **:analyze** — Extract design patterns from a website URL
```

Add after :analyze:
```markdown
- **:suggest** — Get context-aware pattern suggestions based on task description
```

Also update the description in the frontmatter if needed to mention pattern suggestions.
  </action>
  <verify>
```bash
# Check suggest is listed
grep ":suggest" skills/kui-design/SKILL.md
```
  </verify>
  <done>SKILL.md lists :suggest as an available sub-command</done>
</task>

</tasks>

<verification>
1. Command file exists with proper structure:
   ```bash
   head -20 skills/kui-design/commands/suggest.md
   ```

2. SKILL.md mentions suggest command:
   ```bash
   grep -A2 "Available Sub-Commands" skills/kui-design/SKILL.md
   ```

3. All three commands documented:
   ```bash
   ls skills/kui-design/commands/
   ```
   Should show: analyze.md, generate.md, suggest.md
</verification>

<success_criteria>
- [ ] suggest.md command definition exists in skills/kui-design/commands/
- [ ] Command documents usage, workflow, and options
- [ ] Command references suggestPatterns from integration module
- [ ] SKILL.md updated to list :suggest as available sub-command
- [ ] Output format shows relevance percentages and reasoning
</success_criteria>

<output>
After completion, create `.planning/phases/05-integration-performance/05-04-SUMMARY.md`
</output>

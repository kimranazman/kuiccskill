---
phase: 04-multi-framework-docs
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - .knowledge/generator/templates/vue.hbs
  - .knowledge/generator/templates/svelte.hbs
  - .knowledge/generator/templates/vanilla.hbs
autonomous: true

must_haves:
  truths:
    - "Vue template generates Vue 3 Composition API components with script setup"
    - "Svelte template generates Svelte 4+ compatible components"
    - "Vanilla template generates CSS with JSDoc-documented JavaScript"
    - "All templates render pattern documentation in comments"
  artifacts:
    - path: ".knowledge/generator/templates/vue.hbs"
      provides: "Production-quality Vue 3 component template"
    - path: ".knowledge/generator/templates/svelte.hbs"
      provides: "Production-quality Svelte component template"
    - path: ".knowledge/generator/templates/vanilla.hbs"
      provides: "Production-quality vanilla CSS/JS template"
  key_links:
    - from: ".knowledge/generator/templates/vue.hbs"
      to: ".knowledge/generator/code-generator.ts"
      via: "loadTemplate"
      pattern: "loadTemplate.*vue"
---

<objective>
Enhance framework templates to produce production-quality code.

Purpose: Make Vue, Svelte, and vanilla templates generate complete, typed, documented code that developers can use directly without modification.
Output: Enhanced Handlebars templates with proper component structure, TypeScript types, and documentation rendering.
</objective>

<execution_context>
@/Users/khairul/.claude/get-shit-done/workflows/execute-plan.md
@/Users/khairul/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-multi-framework-docs/04-RESEARCH.md
@.knowledge/generator/templates/react.hbs
@.knowledge/generator/templates/vue.hbs
@.knowledge/generator/templates/svelte.hbs
@.knowledge/generator/templates/vanilla.hbs
@.knowledge/generator/code-generator.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Enhance Vue template with Composition API</name>
  <files>.knowledge/generator/templates/vue.hbs</files>
  <action>
Replace vue.hbs with production-quality Vue 3 Composition API template:

```handlebars
{{#if code}}
{{{code}}}
{{else}}
<script setup lang="ts">
/**
 * {{name}}
 *
 * Design Principles:
{{#each principles}}
 * - {{this}}
{{/each}}
 *
 * Category: {{category}}
{{#if accessibility}}
 * Accessibility: {{accessibility.notes}}
{{/if}}
{{#if documentation}}
 *
 * {{documentation.description}}
{{/if}}
 */

{{#if documentation.parameters}}
interface Props {
{{#each documentation.parameters}}
  /** {{description}} */
  {{name}}{{#unless required}}?{{/unless}}: {{type}};
{{/each}}
}

const props = withDefaults(defineProps<Props>(), {
{{#each documentation.parameters}}
{{#if default}}
  {{name}}: {{default}},
{{/if}}
{{/each}}
});
{{else}}
interface Props {
  // Add props based on pattern requirements
}

defineProps<Props>();
{{/if}}
</script>

<template>
  <div class="{{slugName}}">
    <!--
      Implement based on principles:
{{#each principles}}
      - {{this}}
{{/each}}
    -->
  </div>
</template>

<style scoped>
.{{slugName}} {
  /*
   * Apply design principles:
{{#each principles}}
   * - {{this}}
{{/each}}
   */
}
</style>
{{/if}}
```

Key improvements:
- Script setup syntax (Vue 3.2+)
- TypeScript interface for props
- withDefaults for optional props
- JSDoc comments with pattern info
- Scoped styles
  </action>
  <verify>
Check template syntax is valid Handlebars: file should have balanced {{#if}}/{{/if}} blocks
  </verify>
  <done>Vue template produces Vue 3 Composition API components with TypeScript and documentation</done>
</task>

<task type="auto">
  <name>Task 2: Enhance Svelte template with TypeScript</name>
  <files>.knowledge/generator/templates/svelte.hbs</files>
  <action>
Replace svelte.hbs with production-quality Svelte template:

```handlebars
{{#if code}}
{{{code}}}
{{else}}
<script lang="ts">
  /**
   * {{name}}
   *
   * Design Principles:
{{#each principles}}
   * - {{this}}
{{/each}}
   *
   * Category: {{category}}
{{#if accessibility}}
   * Accessibility: {{accessibility.notes}}
{{/if}}
{{#if documentation}}
   *
   * {{documentation.description}}
{{/if}}
   */

{{#if documentation.parameters}}
  // Props with TypeScript types
{{#each documentation.parameters}}
  /** {{description}} */
  export let {{name}}: {{type}}{{#if default}} = {{default}}{{/if}};
{{/each}}
{{else}}
  // Add props based on pattern requirements
{{/if}}
</script>

<div class="{{slugName}}">
  <!--
    Implement based on principles:
{{#each principles}}
    - {{this}}
{{/each}}
  -->
</div>

<style>
  .{{slugName}} {
    /*
     * Apply design principles:
{{#each principles}}
     * - {{this}}
{{/each}}
     */
  }
</style>
{{/if}}
```

Key improvements:
- TypeScript in script block
- JSDoc comments for documentation
- Export let for props (Svelte 4 compatible, works in Svelte 5)
- Component styles
  </action>
  <verify>
Check template syntax is valid Handlebars: file should have balanced {{#if}}/{{/if}} blocks
  </verify>
  <done>Svelte template produces TypeScript components with proper prop exports and documentation</done>
</task>

<task type="auto">
  <name>Task 3: Enhance vanilla template with JSDoc</name>
  <files>.knowledge/generator/templates/vanilla.hbs</files>
  <action>
Replace vanilla.hbs with production-quality vanilla JS/CSS template:

```handlebars
{{#if code}}
{{{code}}}
{{else}}
/**
 * {{name}}
 *
 * Design Principles:
{{#each principles}}
 * - {{this}}
{{/each}}
 *
 * Category: {{category}}
{{#if accessibility}}
 * Accessibility: {{accessibility.notes}}
{{/if}}
{{#if documentation}}
 *
 * {{documentation.description}}
{{/if}}
 */

/* ========================================
   CSS Styles
   ======================================== */

.{{slugName}} {
  /*
   * Base styles - apply principles:
{{#each principles}}
   * - {{this}}
{{/each}}
   */
}

/* Variants and states */
.{{slugName}}--active {
  /* Active state styles */
}

.{{slugName}}--disabled {
  /* Disabled state styles */
  opacity: 0.5;
  pointer-events: none;
}

/* ========================================
   JavaScript (optional)
   ======================================== */

{{#if documentation.parameters}}
/**
 * Creates a {{name}} element
{{#each documentation.parameters}}
 * @param {{"{"}}{{type}}{{"}"}} {{#unless required}}[{{/unless}}{{name}}{{#unless required}}{{#if default}}={{default}}{{/if}}]{{/unless}} - {{description}}
{{/each}}
 * @returns {HTMLElement} The created element
 */
function create{{pascalName}}({{#each documentation.parameters}}{{name}}{{#unless @last}}, {{/unless}}{{/each}}) {
  const el = document.createElement('div');
  el.className = '{{slugName}}';
  // Implement based on principles above
  return el;
}
{{else}}
/**
 * Creates a {{name}} element
 * @returns {HTMLElement} The created element
 */
function create{{pascalName}}() {
  const el = document.createElement('div');
  el.className = '{{slugName}}';
  // Implement based on principles above
  return el;
}
{{/if}}
{{/if}}
```

Key improvements:
- Full JSDoc documentation
- Separated CSS and JS sections
- BEM-style modifier classes
- Factory function for creating elements
- Parameter documentation with @param
  </action>
  <verify>
Check template syntax is valid Handlebars: file should have balanced {{#if}}/{{/if}} blocks
  </verify>
  <done>Vanilla template produces documented CSS and JSDoc JavaScript with factory function</done>
</task>

</tasks>

<verification>
- [ ] All templates have valid Handlebars syntax
- [ ] Vue template uses Composition API with script setup
- [ ] Svelte template uses TypeScript with export let
- [ ] Vanilla template has JSDoc and CSS sections
- [ ] All templates render documentation when present
</verification>

<success_criteria>
Enhanced templates that:
- Produce production-ready, typed code
- Include full documentation in comments
- Follow modern framework patterns (Vue 3 Composition API, Svelte 4+ syntax)
- Are backward compatible with patterns lacking documentation fields
</success_criteria>

<output>
After completion, create `.planning/phases/04-multi-framework-docs/04-02-SUMMARY.md`
</output>

---
phase: 02-code-generation-engine
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - .knowledge/generator/templates/react.hbs
  - .knowledge/generator/templates/vue.hbs
  - .knowledge/generator/templates/svelte.hbs
  - .knowledge/generator/templates/vanilla.hbs
  - package.json
autonomous: true

must_haves:
  truths:
    - "React template generates valid JSX component with pattern principles as comments"
    - "Vue template generates valid Vue 3 SFC with pattern principles in comments"
    - "Svelte template generates valid Svelte component with pattern principles"
    - "Vanilla template generates valid CSS with pattern principles as comments"
  artifacts:
    - path: ".knowledge/generator/templates/react.hbs"
      provides: "React/JSX code generation template"
      contains: "React.FC"
    - path: ".knowledge/generator/templates/vue.hbs"
      provides: "Vue 3 SFC code generation template"
      contains: "<script setup"
    - path: ".knowledge/generator/templates/svelte.hbs"
      provides: "Svelte component code generation template"
      contains: "<script"
    - path: ".knowledge/generator/templates/vanilla.hbs"
      provides: "Vanilla CSS code generation template"
      contains: "CSS"
  key_links:
    - from: ".knowledge/generator/templates/*.hbs"
      to: "Pattern data model"
      via: "Handlebars placeholders"
      pattern: "\\{\\{name\\}\\}|\\{\\{principles\\}\\}"
---

<objective>
Create Handlebars templates for React, Vue, Svelte, and vanilla CSS code generation.

Purpose: GEN-06 requires template-based generation using Handlebars. Templates transform pattern data into framework-specific code while preserving design principles as documentation.
Output: Four .hbs template files that generate framework-appropriate code from Pattern objects.
</objective>

<execution_context>
@/Users/khairul/.claude/get-shit-done/workflows/execute-plan.md
@/Users/khairul/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-code-generation-engine/02-RESEARCH.md
@.knowledge/schema/pattern.schema.ts
@.knowledge/patterns/layout/css-grid-system.yaml
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install Handlebars dependency</name>
  <files>package.json</files>
  <action>
    Install handlebars package:

    npm install handlebars

    Note: Handlebars v4.7.8 includes TypeScript types - no @types package needed.

    Verify package.json shows handlebars in dependencies.
  </action>
  <verify>
    - npm ls handlebars (shows version 4.7.x)
    - package.json includes handlebars in dependencies
  </verify>
  <done>Handlebars installed and available for template compilation</done>
</task>

<task type="auto">
  <name>Task 2: Create React Handlebars template</name>
  <files>.knowledge/generator/templates/react.hbs</files>
  <action>
    Create .knowledge/generator/templates/ directory.

    Create react.hbs template that generates a React functional component:

    ```handlebars
    /**
     * {{name}}
     *
     * Design Principles:
    {{#each principles}}
     * - {{this}}
    {{/each}}
     *
     * Category: {{category}}
     * Tags: {{#each tags}}{{this}}{{#unless @last}}, {{/unless}}{{/each}}
    {{#if accessibility}}
     * Accessibility: {{accessibility.notes}}
    {{/if}}
     */

    {{#if code}}
    {{{code}}}
    {{else}}
    import React from 'react';

    interface {{pascalName}}Props {
      // Add props based on pattern requirements
    }

    export const {{pascalName}}: React.FC<{{pascalName}}Props> = (props) => {
      return (
        <div className="{{slugName}}">
          {/*
            Implement based on principles:
            {{#each principles}}
            - {{this}}
            {{/each}}
          */}
        </div>
      );
    };
    {{/if}}
    ```

    Template context expects:
    - name: Pattern name
    - pascalName: PascalCase version for component name
    - slugName: kebab-case for CSS class
    - principles: Array of design principle strings
    - category: Pattern category
    - tags: Array of tag strings
    - accessibility: Optional { notes, wcag_level }
    - code: Optional pre-existing code from code_examples.react
  </action>
  <verify>
    - File exists at .knowledge/generator/templates/react.hbs
    - Template contains {{name}}, {{principles}}, {{#if code}} placeholders
  </verify>
  <done>React template created with JSDoc principles, component scaffold, and code injection</done>
</task>

<task type="auto">
  <name>Task 3: Create Vue, Svelte, and Vanilla templates</name>
  <files>.knowledge/generator/templates/vue.hbs, .knowledge/generator/templates/svelte.hbs, .knowledge/generator/templates/vanilla.hbs</files>
  <action>
    Create vue.hbs template for Vue 3 Single File Component:

    ```handlebars
    <!--
      {{name}}

      Design Principles:
    {{#each principles}}
      - {{this}}
    {{/each}}

      Category: {{category}}
    {{#if accessibility}}
      Accessibility: {{accessibility.notes}}
    {{/if}}
    -->

    {{#if code}}
    {{{code}}}
    {{else}}
    <script setup lang="ts">
    // Props based on pattern requirements
    interface Props {
    }

    defineProps<Props>();
    </script>

    <template>
      <div class="{{slugName}}">
        <!-- Implement based on principles above -->
      </div>
    </template>

    <style scoped>
    .{{slugName}} {
      /* Apply principles:
      {{#each principles}}
         - {{this}}
      {{/each}}
      */
    }
    </style>
    {{/if}}
    ```

    Create svelte.hbs template for Svelte component:

    ```handlebars
    <!--
      {{name}}

      Design Principles:
    {{#each principles}}
      - {{this}}
    {{/each}}

      Category: {{category}}
    -->

    {{#if code}}
    {{{code}}}
    {{else}}
    <script lang="ts">
      // Props based on pattern requirements
    </script>

    <div class="{{slugName}}">
      <!-- Implement based on principles above -->
    </div>

    <style>
      .{{slugName}} {
        /* Apply principles */
      }
    </style>
    {{/if}}
    ```

    Create vanilla.hbs template for CSS-only output:

    ```handlebars
    /**
     * {{name}}
     *
     * Design Principles:
    {{#each principles}}
     * - {{this}}
    {{/each}}
     *
     * Category: {{category}}
    {{#if accessibility}}
     * Accessibility: {{accessibility.notes}}
    {{/if}}
     */

    {{#if code}}
    {{{code}}}
    {{else}}
    .{{slugName}} {
      /*
       * Implement based on principles:
      {{#each principles}}
       * - {{this}}
      {{/each}}
       */
    }
    {{/if}}
    ```
  </action>
  <verify>
    - ls .knowledge/generator/templates/ shows vue.hbs, svelte.hbs, vanilla.hbs
    - Each template has appropriate framework structure (SFC for Vue, component for Svelte, CSS for vanilla)
  </verify>
  <done>Vue, Svelte, and Vanilla templates created with framework-appropriate structures</done>
</task>

</tasks>

<verification>
- ls .knowledge/generator/templates/ shows all 4 template files
- Each template uses Handlebars syntax ({{name}}, {{#each}}, {{#if}})
- Templates preserve design principles in comments
- Templates handle both code injection and scaffold generation
</verification>

<success_criteria>
- React template generates valid JSX with component structure
- Vue template generates valid Vue 3 SFC with script setup
- Svelte template generates valid Svelte component
- Vanilla template generates valid CSS with comments
- All templates inject existing code_examples when available
- All templates include principles as documentation
</success_criteria>

<output>
After completion, create `.planning/phases/02-code-generation-engine/02-02-SUMMARY.md`
</output>
